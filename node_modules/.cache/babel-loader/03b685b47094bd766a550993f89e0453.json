{"ast":null,"code":"import _toConsumableArray from\"/home/fabian/Documents/d3Js/networks/network-react/chart-d3js-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import React,{useEffect}from'react';import*as d3 from'd3';import{select,scaleLinear,extent}from\"d3\";var styleDefs=require(\"./bar.scss\");function RandomData(){var data=_toConsumableArray(Array(10)).map(function(e,i){return{x:i,y:Math.random()*40,temparature:Math.random()*500};});return data;}var width=600;var height=500;var DrawGrapho=function DrawGrapho(props){useEffect(function(){d3.select('.drawGrapho > *').remove();draw(props);},[]);return/*#__PURE__*/React.createElement(\"div\",{className:\"drawGrapho\"});};var xScale=d3.scaleBand().range([0,3*width/4]).padding(0.1),yScale=d3.scaleLinear().range([3*height/4,0]);var draw=function draw(props){var data=RandomData();var margin=50;d3.select('.drawGrapho').append('svg').attr(\"width\",width-margin).attr(\"height\",height-margin).attr('id','svg-bars');var g=d3.select('#svg-bars').append(\"g\").attr(\"transform\",\"translate(\"+50+\",\"+30+\")\").attr('id','g-bars');xScale.domain(data.map(function(d){return d.x;}));yScale.domain([0,d3.max(data,function(d){return d.y;})]);var x_axis=d3.axisBottom().scale(xScale);var y_axis=d3.axisLeft().scale(yScale);d3.select('#g-bars').append(\"g\").call(y_axis).append(\"text\").attr(\"transform\",\"rotate(-90)\").attr(\"y\",15).attr(\"dy\",\"-5.1em\").attr(\"text-anchor\",\"end\").attr(\"stroke\",\"black\").text(\"Stock Price\");var xAxisTranslate=3*height/4;d3.select('#g-bars').append(\"g\").attr(\"transform\",\"translate(0, \"+xAxisTranslate+\")\").call(x_axis).append(\"text\").attr(\"y\",30).attr(\"x\",3*width/4).attr(\"stroke\",\"black\").text(\"Year\");d3.select('#g-bars').selectAll(\".bar\").attr(\"transform\",\"translate(0, \"+xAxisTranslate+\")\").data(data).enter().append(\"rect\").attr(\"class\",\"bar\").attr(\"x\",function(d){return xScale(d.x);}).attr(\"y\",function(d){return yScale(d.y);}).attr(\"width\",xScale.bandwidth()).attr(\"height\",function(d){return xAxisTranslate-yScale(d.y);}).attr(\"fill\",styleDefs.primaryColor).on(\"mouseover\",handleMouseOver).on(\"mouseout\",handleMouseOut).transition().ease(d3.easeLinear).duration(400).delay(function(d,i){return i*50;});};function handleMouseOver(d,i){d3.select(this).attr('class','highlight');d3.select(this).transition().duration(400).attr('width',xScale.bandwidth()+5).attr(\"y\",function(d){return yScale(d.y)-5;}).attr(\"x\",function(d){return xScale(d.x)-2.5;}).attr(\"height\",function(d){return 3*height/4+5-yScale(d.y);});d3.select('#g-bars').append(\"text\").attr('class','val').attr(\"x\",function(){return xScale(d.x);}).attr(\"y\",function(){return yScale(d.y)-15;}).text(function(){return['$'+d.y];// Value of the text\n});}function handleMouseOut(d,i){d3.select(this).attr('class','bar');d3.select(this).transition().duration(400).attr('width',xScale.bandwidth()).attr(\"y\",function(d){return yScale(d.y);}).attr(\"x\",function(d){return xScale(d.x);}).attr(\"height\",function(d){return 3*height/4-yScale(d.y);});d3.selectAll('.val').remove();}export default DrawGrapho;","map":{"version":3,"sources":["/home/fabian/Documents/d3Js/networks/network-react/chart-d3js-react/src/drawGrapho.js"],"names":["React","useEffect","d3","select","scaleLinear","extent","styleDefs","require","RandomData","data","Array","map","e","i","x","y","Math","random","temparature","width","height","DrawGrapho","props","remove","draw","xScale","scaleBand","range","padding","yScale","margin","append","attr","g","domain","d","max","x_axis","axisBottom","scale","y_axis","axisLeft","call","text","xAxisTranslate","selectAll","enter","bandwidth","primaryColor","on","handleMouseOver","handleMouseOut","transition","ease","easeLinear","duration","delay"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport * as d3 from 'd3';\nimport { select, scaleLinear, extent } from \"d3\";\n\nconst styleDefs = require(\"./bar.scss\");\n\n\nfunction RandomData() {\n  const data = [...Array(10)].map((e, i) => {\n    return {\n      x: i,\n      y: Math.random() * 40,\n      temparature: Math.random() * 500\n    };\n  });\n  return data;\n}\n\n\nconst width = 600\nconst height = 500\n\nconst DrawGrapho = (props) => {\n  useEffect(() => {\n   d3.select('.drawGrapho > *').remove();\n   draw(props)\n },[])\n  return <div className=\"drawGrapho\" />\n}\n\nvar xScale = d3.scaleBand().range([0, 3*width/4]).padding(0.1),\n    yScale = d3.scaleLinear().range([3*height/4, 0]);\n\nconst draw = (props) => {\n\n    const data = RandomData()\n\n    const margin = 50\n\n    d3.select('.drawGrapho').append('svg')\n     .attr(\"width\", width - margin)\n     .attr(\"height\", height - margin)\n     .attr('id', 'svg-bars')\n\n    var g = d3.select('#svg-bars').append(\"g\")\n      .attr(\"transform\", \"translate(\" + 50 + \",\" +30 + \")\")\n      .attr('id', 'g-bars');\n\n    xScale.domain(data.map(function(d) { return d.x; }))\n    yScale.domain([0, d3.max(data, function(d) { return d.y; })])\n\n    var x_axis = d3.axisBottom()\n          .scale(xScale);\n\n    var y_axis = d3.axisLeft()\n          .scale(yScale);\n\n    d3.select('#g-bars').append(\"g\")\n       .call(y_axis)\n       .append(\"text\")\n       .attr(\"transform\", \"rotate(-90)\")\n       .attr(\"y\",15)\n       .attr(\"dy\", \"-5.1em\")\n       .attr(\"text-anchor\", \"end\")\n       .attr(\"stroke\", \"black\")\n       .text(\"Stock Price\");\n\n\n    var xAxisTranslate = 3*height/4 ;\n\n    d3.select('#g-bars').append(\"g\")\n        .attr(\"transform\", \"translate(0, \" +  xAxisTranslate +\")\")\n        .call(x_axis)\n        .append(\"text\")\n        .attr(\"y\",30)\n        .attr(\"x\",3*width/4)\n        .attr(\"stroke\", \"black\")\n        .text(\"Year\");\n\n    d3.select('#g-bars').selectAll(\".bar\")\n        .attr(\"transform\", \"translate(0, \" + xAxisTranslate  +\")\")\n        .data(data)\n        .enter().append(\"rect\")\n        .attr(\"class\", \"bar\")\n        .attr(\"x\", function(d) { return xScale(d.x); })\n        .attr(\"y\", function(d) { return yScale(d.y); })\n        .attr(\"width\", xScale.bandwidth())\n        .attr(\"height\",function(d) { return xAxisTranslate  - yScale(d.y); })\n        .attr(\"fill\", styleDefs.primaryColor)\n        .on(\"mouseover\", handleMouseOver)\n        .on(\"mouseout\", handleMouseOut)\n        .transition()\n         .ease(d3.easeLinear)\n         .duration(400)\n         .delay(function (d, i) {\n             return i * 50;\n         })\n  }\n\n  function handleMouseOver(d, i) {\n    d3.select(this).attr('class', 'highlight');\n    d3.select(this). transition()\n      .duration(400)\n      .attr('width', xScale.bandwidth() + 5)\n      .attr(\"y\", function(d) { return yScale(d.y)-5; })\n      .attr(\"x\", function(d) { return xScale(d.x)-2.5; })\n      .attr(\"height\", function(d) { return 3*height/4 + 5 - yScale(d.y); });\n\n\n    d3.select('#g-bars').append(\"text\")\n      .attr('class', 'val')\n      .attr(\"x\", function() { return  xScale(d.x);})\n      .attr(\"y\", function() { return yScale(d.y) -15 ; })\n      .text(function() {\n        return [ '$' +d.y];  // Value of the text\n    });\n  }\n\n  function handleMouseOut(d, i) {\n    d3.select(this).attr('class', 'bar');\n    d3.select(this).transition()\n      .duration(400)\n      .attr('width', xScale.bandwidth())\n      .attr(\"y\", function(d) { return yScale(d.y); })\n      .attr(\"x\", function(d) { return xScale(d.x); })\n      .attr(\"height\", function(d) { return 3*height/4 - yScale(d.y); });\n\n    d3.selectAll('.val')\n        .remove()\n  }\nexport default DrawGrapho\n"]},"metadata":{},"sourceType":"module"}