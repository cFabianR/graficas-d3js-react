{"ast":null,"code":"var _jsxFileName = \"/home/fabian/Documents/d3Js/networks/network-react/chart-d3js-react/src/drawGrapho.js\";\nimport React, { useEffect } from 'react';\nimport * as d3 from 'd3';\nimport { layout, select, scaleLinear, extent } from \"d3\";\n\nconst styleDefs = require(\"./bar.scss\");\n\nconst width = 600; //Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n\nconst height = 500; //Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n\nconst DrawGrapho = props => {\n  useEffect(() => {\n    d3.select('.drawGrapho > *').remove();\n    draw(props);\n  }, [props]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"drawGrapho\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 10\n    }\n  });\n};\n\nconst draw = props => {\n  var svg = d3.select(\".drawGrapho\").append(\"svg\").attr(\"width\", width).attr(\"height\", height);\n  var force = d3.layout.force().gravity(.05).distance(100).charge(-100).size([width, height]);\n  d3.json(\"graphFile.json\", function (json) {\n    force.nodes(json.nodes).links(json.links).start();\n    var link = svg.selectAll(\".link\").data(json.links).enter().append(\"line\").attr(\"class\", \"link\").style(\"stroke-width\", function (d) {\n      return Math.sqrt(d.weight);\n    });\n    var node = svg.selectAll(\".node\").data(json.nodes).enter().append(\"g\").attr(\"class\", \"node\").call(force.drag);\n    node.append(\"circle\").attr(\"r\", \"5\");\n    node.append(\"text\").attr(\"dx\", 12).attr(\"dy\", \".35em\").text(function (d) {\n      return d.name;\n    });\n    force.on(\"tick\", function () {\n      link.attr(\"x1\", function (d) {\n        return d.source.x;\n      }).attr(\"y1\", function (d) {\n        return d.source.y;\n      }).attr(\"x2\", function (d) {\n        return d.target.x;\n      }).attr(\"y2\", function (d) {\n        return d.target.y;\n      });\n      node.attr(\"transform\", function (d) {\n        return \"translate(\" + d.x + \",\" + d.y + \")\";\n      });\n    });\n  });\n};\n\nexport default DrawGrapho;","map":{"version":3,"sources":["/home/fabian/Documents/d3Js/networks/network-react/chart-d3js-react/src/drawGrapho.js"],"names":["React","useEffect","d3","layout","select","scaleLinear","extent","styleDefs","require","width","height","DrawGrapho","props","remove","draw","svg","append","attr","force","gravity","distance","charge","size","json","nodes","links","start","link","selectAll","data","enter","style","d","Math","sqrt","weight","node","call","drag","text","name","on","source","x","y","target"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport * as d3 from 'd3';\nimport { layout, select, scaleLinear, extent } from \"d3\";\n\nconst styleDefs = require(\"./bar.scss\");\n\nconst width = 600 //Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\nconst height = 500 //Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n\nconst DrawGrapho = (props) => {\n  useEffect(() => {\n   d3.select('.drawGrapho > *').remove();\n   draw(props)\n },[props])\n  return <div className=\"drawGrapho\" />\n}\n\nconst draw = (props) => {\n\n  var svg = d3.select(\".drawGrapho\").append(\"svg\")\n      .attr(\"width\", width)\n      .attr(\"height\", height);\n\n  var force = d3.layout.force()\n      .gravity(.05)\n      .distance(100)\n      .charge(-100)\n      .size([width, height]);\n\n  d3.json(\"graphFile.json\", function(json) {\n    force\n        .nodes(json.nodes)\n        .links(json.links)\n        .start();\n\n    var link = svg.selectAll(\".link\")\n        .data(json.links)\n      .enter().append(\"line\")\n        .attr(\"class\", \"link\")\n      .style(\"stroke-width\", function(d) { return Math.sqrt(d.weight); });\n\n    var node = svg.selectAll(\".node\")\n        .data(json.nodes)\n      .enter().append(\"g\")\n        .attr(\"class\", \"node\")\n        .call(force.drag);\n\n    node.append(\"circle\")\n        .attr(\"r\",\"5\");\n\n    node.append(\"text\")\n        .attr(\"dx\", 12)\n        .attr(\"dy\", \".35em\")\n        .text(function(d) { return d.name });\n\n    force.on(\"tick\", function() {\n      link.attr(\"x1\", function(d) { return d.source.x; })\n          .attr(\"y1\", function(d) { return d.source.y; })\n          .attr(\"x2\", function(d) { return d.target.x; })\n          .attr(\"y2\", function(d) { return d.target.y; });\n\n      node.attr(\"transform\", function(d) { return \"translate(\" + d.x + \",\" + d.y + \")\"; });\n    });\n  });\n\n  }\n\nexport default DrawGrapho\n"]},"metadata":{},"sourceType":"module"}