{"ast":null,"code":"var _jsxFileName = \"/home/fabian/Documents/d3Js/networks/network-react/chart-d3js-react/src/drawGrapho.js\";\nimport React, { useEffect } from 'react';\nimport * as d3 from 'd3';\nimport { layout, select, scaleLinear, extent } from \"d3\";\nimport getLinkColor from './utils/getLinkColor';\nimport getNodeColor from './utils/getNodeColor';\nimport getTextColor from './utils/getTextColor';\nimport getNeighbors from './utils/getNeighbors';\nimport isNeighborLink from './utils/isNeighborLink';\nimport baseNodes from './data/nodes';\nimport baseLink from './data/links';\n\nconst styleDefs = require(\"./bar.scss\");\n\nconst width = 600; //Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n\nconst height = 500; //Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n\nconst DrawGrapho = props => {\n  useEffect(() => {\n    d3.select('.drawGrapho > *').remove();\n    draw(props);\n  }, [props]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"drawGrapho\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 10\n    }\n  });\n};\n\nconst draw = props => {\n  var svg = d3.select(\".drawGrapho\").append(\"svg\").attr(\"width\", width).attr(\"height\", height);\n  const simulation = d3.forceSimulation().force('charge', d3.forceManyBody().strength(-20)).force('center', d3.forceCenter(width / 2, height / 2));\n  d3.json('https://raw.githubusercontent.com/cFabianR/Prubas/master/miserables.json', function (json) {\n    function getNodeColor(node) {\n      return node.level === 1 ? 'red' : 'gray';\n    }\n\n    const nodeElements = svg.append('g').selectAll('circle').data(nodes).enter().append('circle').attr('r', 10).attr('fill', getNodeColor);\n    const textElements = svg.append('g').selectAll('text').data(nodes).enter().append('text').text(node => node.label).attr('font-size', 15).attr('dx', 15).attr('dy', 4);\n  });\n};\n\nexport default DrawGrapho;","map":{"version":3,"sources":["/home/fabian/Documents/d3Js/networks/network-react/chart-d3js-react/src/drawGrapho.js"],"names":["React","useEffect","d3","layout","select","scaleLinear","extent","getLinkColor","getNodeColor","getTextColor","getNeighbors","isNeighborLink","baseNodes","baseLink","styleDefs","require","width","height","DrawGrapho","props","remove","draw","svg","append","attr","simulation","forceSimulation","force","forceManyBody","strength","forceCenter","json","node","level","nodeElements","selectAll","data","nodes","enter","textElements","text","label"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,KAAKC,EAAZ,MAAoB,IAApB;AACA,SAASC,MAAT,EAAiBC,MAAjB,EAAyBC,WAAzB,EAAsCC,MAAtC,QAAoD,IAApD;AAEA,OAAOC,YAAP,MAAyB,sBAAzB;AACA,OAAOC,YAAP,MAAyB,sBAAzB;AACA,OAAOC,YAAP,MAAyB,sBAAzB;AACA,OAAOC,YAAP,MAAyB,sBAAzB;AACA,OAAOC,cAAP,MAA2B,wBAA3B;AAEA,OAAOC,SAAP,MAAsB,cAAtB;AACA,OAAOC,QAAP,MAAqB,cAArB;;AAGA,MAAMC,SAAS,GAAGC,OAAO,CAAC,YAAD,CAAzB;;AAEA,MAAMC,KAAK,GAAG,GAAd,C,CAAkB;;AAClB,MAAMC,MAAM,GAAG,GAAf,C,CAAmB;;AAEnB,MAAMC,UAAU,GAAIC,KAAD,IAAW;AAC5BlB,EAAAA,SAAS,CAAC,MAAM;AACfC,IAAAA,EAAE,CAACE,MAAH,CAAU,iBAAV,EAA6BgB,MAA7B;AACAC,IAAAA,IAAI,CAACF,KAAD,CAAJ;AACD,GAHS,EAGR,CAACA,KAAD,CAHQ,CAAT;AAIA,sBAAO;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AACD,CAND;;AAQA,MAAME,IAAI,GAAIF,KAAD,IAAW;AAEtB,MAAIG,GAAG,GAAGpB,EAAE,CAACE,MAAH,CAAU,aAAV,EAAyBmB,MAAzB,CAAgC,KAAhC,EACLC,IADK,CACA,OADA,EACSR,KADT,EAELQ,IAFK,CAEA,QAFA,EAEUP,MAFV,CAAV;AAIA,QAAMQ,UAAU,GAAGvB,EAAE,CAACwB,eAAH,GACdC,KADc,CACR,QADQ,EACEzB,EAAE,CAAC0B,aAAH,GAAmBC,QAAnB,CAA4B,CAAC,EAA7B,CADF,EAEdF,KAFc,CAER,QAFQ,EAEEzB,EAAE,CAAC4B,WAAH,CAAed,KAAK,GAAG,CAAvB,EAA0BC,MAAM,GAAG,CAAnC,CAFF,CAAnB;AAKAf,EAAAA,EAAE,CAAC6B,IAAH,CAAQ,0EAAR,EAAoF,UAASA,IAAT,EAAe;AACjG,aAASvB,YAAT,CAAsBwB,IAAtB,EAA4B;AAC1B,aAAOA,IAAI,CAACC,KAAL,KAAe,CAAf,GAAmB,KAAnB,GAA2B,MAAlC;AACD;;AAED,UAAMC,YAAY,GAAGZ,GAAG,CAACC,MAAJ,CAAW,GAAX,EAClBY,SADkB,CACR,QADQ,EAElBC,IAFkB,CAEbC,KAFa,EAGlBC,KAHkB,GAGVf,MAHU,CAGH,QAHG,EAIlBC,IAJkB,CAIb,GAJa,EAIR,EAJQ,EAKlBA,IALkB,CAKb,MALa,EAKLhB,YALK,CAArB;AAOA,UAAM+B,YAAY,GAAGjB,GAAG,CAACC,MAAJ,CAAW,GAAX,EAClBY,SADkB,CACR,MADQ,EAElBC,IAFkB,CAEbC,KAFa,EAGlBC,KAHkB,GAGVf,MAHU,CAGH,MAHG,EAIlBiB,IAJkB,CAIbR,IAAI,IAAIA,IAAI,CAACS,KAJA,EAKlBjB,IALkB,CAKb,WALa,EAKA,EALA,EAMlBA,IANkB,CAMb,IANa,EAMP,EANO,EAOlBA,IAPkB,CAOb,IAPa,EAOP,CAPO,CAArB;AAQD,GApBD;AAsBC,CAjCH;;AAmCA,eAAeN,UAAf","sourcesContent":["import React, { useEffect } from 'react';\nimport * as d3 from 'd3';\nimport { layout, select, scaleLinear, extent } from \"d3\";\n\nimport getLinkColor from './utils/getLinkColor'\nimport getNodeColor from './utils/getNodeColor'\nimport getTextColor from './utils/getTextColor'\nimport getNeighbors from './utils/getNeighbors'\nimport isNeighborLink from './utils/isNeighborLink'\n\nimport baseNodes from './data/nodes'\nimport baseLink from './data/links'\n\n\nconst styleDefs = require(\"./bar.scss\");\n\nconst width = 600 //Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\nconst height = 500 //Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n\nconst DrawGrapho = (props) => {\n  useEffect(() => {\n   d3.select('.drawGrapho > *').remove();\n   draw(props)\n },[props])\n  return <div className=\"drawGrapho\" />\n}\n\nconst draw = (props) => {\n\n  var svg = d3.select(\".drawGrapho\").append(\"svg\")\n      .attr(\"width\", width)\n      .attr(\"height\", height);\n\n  const simulation = d3.forceSimulation()\n      .force('charge', d3.forceManyBody().strength(-20))\n      .force('center', d3.forceCenter(width / 2, height / 2))\n\n\n  d3.json('https://raw.githubusercontent.com/cFabianR/Prubas/master/miserables.json', function(json) {\n    function getNodeColor(node) {\n      return node.level === 1 ? 'red' : 'gray'\n    }\n\n    const nodeElements = svg.append('g')\n      .selectAll('circle')\n      .data(nodes)\n      .enter().append('circle')\n      .attr('r', 10)\n      .attr('fill', getNodeColor)\n\n    const textElements = svg.append('g')\n      .selectAll('text')\n      .data(nodes)\n      .enter().append('text')\n      .text(node => node.label)\n      .attr('font-size', 15)\n      .attr('dx', 15)\n      .attr('dy', 4)\n  });\n\n  }\n\nexport default DrawGrapho\n"]},"metadata":{},"sourceType":"module"}