{"ast":null,"code":"var _jsxFileName = \"/home/fabian/Documents/d3Js/networks/network-react/chart-d3js-react/src/drawGrapho.js\";\nimport React, { useEffect } from 'react';\nimport * as d3 from 'd3';\nimport { layout, select, scaleLinear, extent } from \"d3\";\n\nconst styleDefs = require(\"./bar.scss\");\n\nconst width = 600; //Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n\nconst height = 500; //Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n\nconst DrawGrapho = props => {\n  useEffect(() => {\n    d3.select('.drawGrapho > *').remove();\n    draw(props);\n  }, [props]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"drawGrapho\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 10\n    }\n  });\n};\n\nvar nodes = [{\n  id: \"mammal\",\n  group: 0,\n  label: \"Mammals\",\n  level: 1\n}, {\n  id: \"dog\",\n  group: 0,\n  label: \"Dogs\",\n  level: 2\n}, {\n  id: \"cat\",\n  group: 0,\n  label: \"Cats\",\n  level: 2\n}, {\n  id: \"fox\",\n  group: 0,\n  label: \"Foxes\",\n  level: 2\n}, {\n  id: \"elk\",\n  group: 0,\n  label: \"Elk\",\n  level: 2\n}, {\n  id: \"insect\",\n  group: 1,\n  label: \"Insects\",\n  level: 1\n}, {\n  id: \"ant\",\n  group: 1,\n  label: \"Ants\",\n  level: 2\n}, {\n  id: \"bee\",\n  group: 1,\n  label: \"Bees\",\n  level: 2\n}, {\n  id: \"fish\",\n  group: 2,\n  label: \"Fish\",\n  level: 1\n}, {\n  id: \"carp\",\n  group: 2,\n  label: \"Carp\",\n  level: 2\n}, {\n  id: \"pike\",\n  group: 2,\n  label: \"Pikes\",\n  level: 2\n}];\nvar links = [{\n  target: \"mammal\",\n  source: \"dog\",\n  strength: 0.7\n}, {\n  target: \"mammal\",\n  source: \"cat\",\n  strength: 0.7\n}, {\n  target: \"mammal\",\n  source: \"fox\",\n  strength: 0.7\n}, {\n  target: \"mammal\",\n  source: \"elk\",\n  strength: 0.7\n}, {\n  target: \"insect\",\n  source: \"ant\",\n  strength: 0.7\n}, {\n  target: \"insect\",\n  source: \"bee\",\n  strength: 0.7\n}, {\n  target: \"fish\",\n  source: \"carp\",\n  strength: 0.7\n}, {\n  target: \"fish\",\n  source: \"pike\",\n  strength: 0.7\n}, {\n  target: \"cat\",\n  source: \"elk\",\n  strength: 0.1\n}, {\n  target: \"carp\",\n  source: \"ant\",\n  strength: 0.1\n}, {\n  target: \"elk\",\n  source: \"bee\",\n  strength: 0.1\n}, {\n  target: \"dog\",\n  source: \"cat\",\n  strength: 0.1\n}, {\n  target: \"fox\",\n  source: \"ant\",\n  strength: 0.1\n}, {\n  target: \"pike\",\n  source: \"cat\",\n  strength: 0.1\n}];\n\nconst draw = props => {\n  function getNodeColor(node) {\n    return node.level === 1 ? 'red' : 'gray';\n  }\n\n  var svg = d3.select(\".drawGrapho\").append(\"svg\").attr(\"width\", width).attr(\"height\", height);\n  var linkForce = d3.forceLink().id(function (link) {\n    return link.id;\n  }).strength(function (link) {\n    return link.strength;\n  });\n  var simulation = d3.forceSimulation().force('link', linkForce).force('charge', d3.forceManyBody().strength(-120)).force('center', d3.forceCenter(width / 2, height / 2));\n  var linkElements = svg.append(\"g\").attr(\"class\", \"links\").selectAll(\"line\").data(links).enter().append(\"line\").attr(\"stroke-width\", 1).attr(\"stroke\", \"rgba(50, 50, 50, 0.2)\");\n  var nodeElements = svg.append(\"g\").attr(\"class\", \"nodes\").selectAll(\"circle\").data(nodes).enter().append(\"circle\").attr(\"r\", 10).attr(\"fill\", getNodeColor);\n  var textElements = svg.append(\"g\").attr(\"class\", \"texts\").selectAll(\"text\").data(nodes).enter().append(\"text\").text(function (node) {\n    return node.label;\n  }).attr(\"font-size\", 15).attr(\"dx\", 15).attr(\"dy\", 4);\n  simulation.nodes(nodes).on('tick', () => {\n    nodeElements.attr('cx', function (node) {\n      return node.x;\n    }).attr('cy', function (node) {\n      return node.y;\n    });\n    textElements.attr('x', function (node) {\n      return node.x;\n    }).attr('y', function (node) {\n      return node.y;\n    });\n    linkElements.attr('x1', function (link) {\n      return link.source.x;\n    }).attr('y1', function (link) {\n      return link.source.y;\n    }).attr('x2', function (link) {\n      return link.target.x;\n    }).attr('y2', function (link) {\n      return link.target.y;\n    });\n  });\n  simulation.force(\"link\").links(links);\n};\n\nexport default DrawGrapho;","map":{"version":3,"sources":["/home/fabian/Documents/d3Js/networks/network-react/chart-d3js-react/src/drawGrapho.js"],"names":["React","useEffect","d3","layout","select","scaleLinear","extent","styleDefs","require","width","height","DrawGrapho","props","remove","draw","nodes","id","group","label","level","links","target","source","strength","getNodeColor","node","svg","append","attr","linkForce","forceLink","link","simulation","forceSimulation","force","forceManyBody","forceCenter","linkElements","selectAll","data","enter","nodeElements","textElements","text","on","x","y"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport * as d3 from 'd3';\nimport { layout, select, scaleLinear, extent } from \"d3\";\n\nconst styleDefs = require(\"./bar.scss\");\n\nconst width = 600 //Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\nconst height = 500 //Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n\nconst DrawGrapho = (props) => {\n  useEffect(() => {\n   d3.select('.drawGrapho > *').remove();\n   draw(props)\n },[props])\n  return <div className=\"drawGrapho\" />\n}\n\n\nvar nodes = [\n  { id: \"mammal\", group: 0, label: \"Mammals\", level: 1 },\n  { id: \"dog\"   , group: 0, label: \"Dogs\"   , level: 2 },\n  { id: \"cat\"   , group: 0, label: \"Cats\"   , level: 2 },\n  { id: \"fox\"   , group: 0, label: \"Foxes\"  , level: 2 },\n  { id: \"elk\"   , group: 0, label: \"Elk\"    , level: 2 },\n  { id: \"insect\", group: 1, label: \"Insects\", level: 1 },\n  { id: \"ant\"   , group: 1, label: \"Ants\"   , level: 2 },\n  { id: \"bee\"   , group: 1, label: \"Bees\"   , level: 2 },\n  { id: \"fish\"  , group: 2, label: \"Fish\"   , level: 1 },\n  { id: \"carp\"  , group: 2, label: \"Carp\"   , level: 2 },\n  { id: \"pike\"  , group: 2, label: \"Pikes\"  , level: 2 }\n]\n\nvar links = [\n\t{ target: \"mammal\", source: \"dog\" , strength: 0.7 },\n\t{ target: \"mammal\", source: \"cat\" , strength: 0.7 },\n  { target: \"mammal\", source: \"fox\" , strength: 0.7 },\n  { target: \"mammal\", source: \"elk\" , strength: 0.7 },\n  { target: \"insect\", source: \"ant\" , strength: 0.7 },\n  { target: \"insect\", source: \"bee\" , strength: 0.7 },\n  { target: \"fish\"  , source: \"carp\", strength: 0.7 },\n  { target: \"fish\"  , source: \"pike\", strength: 0.7 },\n  { target: \"cat\"   , source: \"elk\" , strength: 0.1 },\n  { target: \"carp\"  , source: \"ant\" , strength: 0.1 },\n  { target: \"elk\"   , source: \"bee\" , strength: 0.1 },\n  { target: \"dog\"   , source: \"cat\" , strength: 0.1 },\n  { target: \"fox\"   , source: \"ant\" , strength: 0.1 },\n\t{ target: \"pike\"  , source: \"cat\" , strength: 0.1 }\n]\n\n\nconst draw = (props) => {\n\n  function getNodeColor(node) {\n    return node.level === 1 ? 'red' : 'gray'\n  }\n  \n  var svg = d3.select(\".drawGrapho\").append(\"svg\")\n      .attr(\"width\", width)\n      .attr(\"height\", height);\n\n  var linkForce = d3\n    .forceLink()\n    .id(function (link) { return link.id })\n    .strength(function (link) { return link.strength })\n\n  var simulation = d3\n    .forceSimulation()\n    .force('link', linkForce)\n    .force('charge', d3.forceManyBody().strength(-120))\n    .force('center', d3.forceCenter(width / 2, height / 2))\n\n  var linkElements = svg.append(\"g\")\n    .attr(\"class\", \"links\")\n    .selectAll(\"line\")\n    .data(links)\n    .enter().append(\"line\")\n      .attr(\"stroke-width\", 1)\n  \t  .attr(\"stroke\", \"rgba(50, 50, 50, 0.2)\")\n\n  var nodeElements = svg.append(\"g\")\n    .attr(\"class\", \"nodes\")\n    .selectAll(\"circle\")\n    .data(nodes)\n    .enter().append(\"circle\")\n      .attr(\"r\", 10)\n      .attr(\"fill\", getNodeColor)\n\n  var textElements = svg.append(\"g\")\n    .attr(\"class\", \"texts\")\n    .selectAll(\"text\")\n    .data(nodes)\n    .enter().append(\"text\")\n      .text(function (node) { return  node.label })\n  \t  .attr(\"font-size\", 15)\n  \t  .attr(\"dx\", 15)\n      .attr(\"dy\", 4)\n\n  simulation.nodes(nodes).on('tick', () => {\n    nodeElements\n      .attr('cx', function (node) { return node.x })\n      .attr('cy', function (node) { return node.y })\n    textElements\n      .attr('x', function (node) { return node.x })\n      .attr('y', function (node) { return node.y })\n    linkElements\n      .attr('x1', function (link) { return link.source.x })\n      .attr('y1', function (link) { return link.source.y })\n      .attr('x2', function (link) { return link.target.x })\n      .attr('y2', function (link) { return link.target.y })\n  })\n\n  simulation.force(\"link\").links(links)\n\n}\nexport default DrawGrapho\n"]},"metadata":{},"sourceType":"module"}