{"ast":null,"code":"var _jsxFileName = \"/home/fabian/Documents/d3Js/networks/network-react/chart-d3js-react/src/drawGrapho2.js\";\nimport React, { useEffect } from 'react';\nimport * as d3 from 'd3';\nimport { layout, select, scaleLinear, extent } from \"d3\";\n\nconst styleDefs = require(\"./bar.scss\");\n\nconst width = 600; //Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n\nconst height = 500; //Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n\nconst DrawGrapho2 = props => {\n  useEffect(() => {\n    d3.select('.drawGrapho2 > *').remove();\n    draw(props);\n  }, [props]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"drawGrapho2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 10\n    }\n  });\n};\n\nconst draw = props => {\n  var simulation = d3.forceSimulation().force('charge', d3.forceManyBody().strength(-120)).force('center', d3.forceCenter(width / 2, height / 2));\n\n  function getNodeColor(node) {\n    return node.group === 1 ? 'red' : 'gray';\n  }\n\n  var svg = d3.select(\".drawGrapho2\").append(\"svg\").attr(\"width\", width).attr(\"height\", height);\n  var graph = d3.json(\"https://raw.githubusercontent.com/cFabianR/Prubas/master/miserables.json\", function (error, graph) {\n    if (error) throw error;\n    var nodeElements = svg.append(\"g\").attr(\"class\", \"nodes\").selectAll(\"circle\").data(graph.nodes).enter().append(\"circle\").attr(\"r\", 10).attr(\"fill\", getNodeColor);\n    var textElements = svg.append(\"g\").attr(\"class\", \"texts\").selectAll(\"text\").data(nodes).enter().append(\"text\").text(function (node) {\n      return node.id;\n    }).attr(\"font-size\", 15).attr(\"dx\", 15).attr(\"dy\", 4);\n    simulation.nodes(nodes).on('tick', () => {\n      nodeElements.attr('cx', function (node) {\n        return node.x;\n      }).attr('cy', function (node) {\n        return node.y;\n      });\n      textElements.attr('x', function (node) {\n        return node.x;\n      }).attr('y', function (node) {\n        return node.y;\n      });\n    });\n  });\n};\n\nexport default DrawGrapho2;","map":{"version":3,"sources":["/home/fabian/Documents/d3Js/networks/network-react/chart-d3js-react/src/drawGrapho2.js"],"names":["React","useEffect","d3","layout","select","scaleLinear","extent","styleDefs","require","width","height","DrawGrapho2","props","remove","draw","simulation","forceSimulation","force","forceManyBody","strength","forceCenter","getNodeColor","node","group","svg","append","attr","graph","json","error","nodeElements","selectAll","data","nodes","enter","textElements","text","id","on","x","y"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport * as d3 from 'd3';\nimport { layout, select, scaleLinear, extent } from \"d3\";\n\nconst styleDefs = require(\"./bar.scss\");\n\nconst width = 600 //Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\nconst height = 500 //Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n\nconst DrawGrapho2 = (props) => {\n  useEffect(() => {\n   d3.select('.drawGrapho2 > *').remove();\n   draw(props)\n },[props])\n  return <div className=\"drawGrapho2\" />\n}\n\n\nconst draw = (props) => {\n\n\n  var simulation = d3\n    .forceSimulation()\n    .force('charge', d3.forceManyBody().strength(-120))\n    .force('center', d3.forceCenter(width / 2, height / 2))\n\n  function getNodeColor(node) {\n    return node.group === 1 ? 'red' : 'gray'\n  }\n\n  var svg = d3.select(\".drawGrapho2\").append(\"svg\")\n  .attr(\"width\", width)\n  .attr(\"height\", height);\n\n  var graph = d3.json(\"https://raw.githubusercontent.com/cFabianR/Prubas/master/miserables.json\", function(error, graph) {\n    if (error) throw error;\n\n    var nodeElements = svg.append(\"g\")\n      .attr(\"class\", \"nodes\")\n      .selectAll(\"circle\")\n      .data(graph.nodes)\n      .enter().append(\"circle\")\n        .attr(\"r\", 10)\n        .attr(\"fill\", getNodeColor)\n\n    var textElements = svg.append(\"g\")\n      .attr(\"class\", \"texts\")\n      .selectAll(\"text\")\n      .data(nodes)\n      .enter().append(\"text\")\n        .text(function (node) { return  node.id })\n    \t  .attr(\"font-size\", 15)\n    \t  .attr(\"dx\", 15)\n        .attr(\"dy\", 4)\n        \n    simulation.nodes(nodes).on('tick', () => {\n      nodeElements\n        .attr('cx', function (node) { return node.x })\n        .attr('cy', function (node) { return node.y })\n      textElements\n        .attr('x', function (node) { return node.x })\n        .attr('y', function (node) { return node.y })\n    })\n  });\n\n}\nexport default DrawGrapho2\n"]},"metadata":{},"sourceType":"module"}