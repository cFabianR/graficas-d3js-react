{"ast":null,"code":"var _jsxFileName = \"/home/fabian/Documents/d3Js/networks/network-react/chart-d3js-react/src/drawGrapho2.js\";\nimport React, { useEffect } from 'react';\nimport * as d3 from 'd3';\nconst width = 600; //Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n\nconst height = 500; //Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n\nconst DrawGrapho2 = props => {\n  useEffect(() => {\n    d3.select('.drawGrapho2 > *').remove();\n    draw(props);\n  }, [props]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"drawGrapho2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 10\n    }\n  });\n};\n\nconst draw = props => {\n  var svg = d3.select(\".drawGrapho2\").append(\"svg\").attr(\"width\", width).attr(\"height\", height); // simulation setup with all forces\n\n  function getNodeColor(node) {\n    var colors = [\"#ec407a\", \"#ab47bc\", \"#5c6bc0\", \"#29b6f6\", \"#26a69a\", \"#66bb6a\", \"#ffee58\", \"#ff9800\", \"#795548\", \"#ff8f00\", \"#546e7a\", \"#ff9800\", \"#795548\", \"#ff8f00\", \"#546e7a\"];\n    console.log(node.group);\n    return colors[node.group];\n  }\n\n  d3.json(\"https://raw.githubusercontent.com/cFabianR/Prubas/master/miserables.json\", {\n    crossOrigin: null\n  }).then(function (json) {\n    var linkForce = d3.forceLink().id(function (link) {\n      return link.id;\n    }).strength(function (link) {\n      return link.value;\n    });\n    var simulation = d3.forceSimulation().force('link', linkForce).force('charge', d3.forceManyBody().strength(-120)).force('center', d3.forceCenter(width / 2, height / 2));\n    var linkElements = svg.append(\"g\").attr(\"class\", \"links\").selectAll(\"line\").data(json.links).enter().append(\"line\").attr(\"stroke-width\", 1).attr(\"stroke\", \"rgba(50, 50, 50, 0.2)\");\n    var nodeElements = svg.append(\"g\").attr(\"class\", \"nodes\").selectAll(\"circle\").data(json.nodes).enter().append(\"circle\").attr(\"r\", 10).attr(\"fill\", \"#3f51b5\");\n    var textElements = svg.append(\"g\").attr(\"class\", \"texts\").selectAll(\"text\").data(json.nodes).enter().append(\"text\").text(function (node) {\n      return node.id;\n    }).attr(\"font-size\", 15).attr(\"dx\", 15).attr(\"dy\", 4);\n    simulation.nodes(nodes).on('tick', () => {\n      nodeElements.attr('cx', function (node) {\n        return node.x;\n      }).attr('cy', function (node) {\n        return node.y;\n      });\n      textElements.attr('x', function (node) {\n        return node.x;\n      }).attr('y', function (node) {\n        return node.y;\n      });\n      linkElements.attr('x1', function (link) {\n        return link.source.x;\n      }).attr('y1', function (link) {\n        return link.source.y;\n      }).attr('x2', function (link) {\n        return link.target.x;\n      }).attr('y2', function (link) {\n        return link.target.y;\n      });\n    });\n    console.log(json);\n  });\n};\n\nexport default DrawGrapho2;","map":{"version":3,"sources":["/home/fabian/Documents/d3Js/networks/network-react/chart-d3js-react/src/drawGrapho2.js"],"names":["React","useEffect","d3","width","height","DrawGrapho2","props","select","remove","draw","svg","append","attr","getNodeColor","node","colors","console","log","group","json","crossOrigin","then","linkForce","forceLink","id","link","strength","value","simulation","forceSimulation","force","forceManyBody","forceCenter","linkElements","selectAll","data","links","enter","nodeElements","nodes","textElements","text","on","x","y","source","target"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport * as d3 from 'd3';\n\nconst width = 600 //Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\nconst height = 500 //Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n\nconst DrawGrapho2 = (props) => {\n  useEffect(() => {\n   d3.select('.drawGrapho2 > *').remove();\n   draw(props)\n },[props])\n  return <div className=\"drawGrapho2\" />\n}\n\nconst draw = (props) => {\n\n  var svg = d3.select(\".drawGrapho2\").append(\"svg\")\n  .attr(\"width\", width)\n  .attr(\"height\", height);\n\n  // simulation setup with all forces\n\n\n\n\n  function getNodeColor(node) {\n    var colors = [\"#ec407a\", \"#ab47bc\", \"#5c6bc0\", \"#29b6f6\", \"#26a69a\", \"#66bb6a\",\n        \"#ffee58\", \"#ff9800\", \"#795548\", \"#ff8f00\", \"#546e7a\", \"#ff9800\", \"#795548\", \"#ff8f00\", \"#546e7a\"]\n        console.log(node.group)\n    return colors[node.group]\n  }\n\n  d3.json(\"https://raw.githubusercontent.com/cFabianR/Prubas/master/miserables.json\", {crossOrigin: null}).then(function(json) {\n\n    var linkForce = d3\n      .forceLink()\n      .id(function (link) { return link.id })\n      .strength(function (link) { return link.value })\n\n    var simulation = d3\n      .forceSimulation()\n      .force('link', linkForce)\n      .force('charge', d3.forceManyBody().strength(-120))\n      .force('center', d3.forceCenter(width / 2, height / 2))\n\n    var linkElements = svg.append(\"g\")\n      .attr(\"class\", \"links\")\n      .selectAll(\"line\")\n      .data(json.links)\n      .enter().append(\"line\")\n        .attr(\"stroke-width\", 1)\n    \t  .attr(\"stroke\", \"rgba(50, 50, 50, 0.2)\")\n\n    var nodeElements = svg.append(\"g\")\n      .attr(\"class\", \"nodes\")\n      .selectAll(\"circle\")\n      .data(json.nodes)\n      .enter().append(\"circle\")\n      .attr(\"r\", 10)\n      .attr(\"fill\", \"#3f51b5\")\n\n    var textElements = svg.append(\"g\")\n      .attr(\"class\", \"texts\")\n      .selectAll(\"text\")\n      .data(json.nodes)\n      .enter().append(\"text\")\n      .text(function (node) { return  node.id})\n  \t  .attr(\"font-size\", 15)\n  \t  .attr(\"dx\", 15)\n      .attr(\"dy\", 4)\n\n\n    simulation.nodes(nodes).on('tick', () => {\n      nodeElements\n        .attr('cx', function (node) { return node.x })\n        .attr('cy', function (node) { return node.y })\n      textElements\n        .attr('x', function (node) { return node.x })\n        .attr('y', function (node) { return node.y })\n      linkElements\n        .attr('x1', function (link) { return link.source.x })\n        .attr('y1', function (link) { return link.source.y })\n        .attr('x2', function (link) { return link.target.x })\n        .attr('y2', function (link) { return link.target.y })\n    })\n\n\n\n  console.log(json);\n  });\n\n\n\n}\nexport default DrawGrapho2\n"]},"metadata":{},"sourceType":"module"}