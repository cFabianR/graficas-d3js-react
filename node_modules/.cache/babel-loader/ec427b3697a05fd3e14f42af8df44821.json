{"ast":null,"code":"var _jsxFileName = \"/home/fabian/Documents/d3Js/networks/network-react/chart-d3js-react/src/drawGrapho.js\";\nimport React, { useEffect } from 'react';\nimport * as d3 from 'd3';\nimport { select, scaleLinear, extent } from \"d3\";\n\nconst styleDefs = require(\"./bar.scss\");\n\nfunction RandomData() {\n  const data = [...Array(10)].map((e, i) => {\n    return {\n      x: i,\n      y: Math.random() * 40,\n      temparature: Math.random() * 500\n    };\n  });\n  return data;\n}\n\nconst width = 600; //Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n\nconst height = 500; //Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n\nconst DrawGrapho = props => {\n  useEffect(() => {\n    d3.select('.drawGrapho > *').remove();\n    draw(props);\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"drawGrapho\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 10\n    }\n  });\n};\n\nvar xScale = d3.scaleBand().range([0, 3 * width / 4]).padding(0.1),\n    yScale = d3.scaleLinear().range([3 * height / 4, 0]);\n\nconst draw = props => {\n  const data = RandomData();\n  const margin = 50;\n  d3.select('.drawGrapho').append('svg').attr(\"width\", width - margin).attr(\"height\", height - margin).attr('id', 'svg-bars');\n  var g = d3.select('#svg-bars').append(\"g\").attr(\"transform\", \"translate(\" + 50 + \",\" + 30 + \")\").attr('id', 'g-bars');\n  xScale.domain(data.map(function (d) {\n    return d.x;\n  }));\n  yScale.domain([0, d3.max(data, function (d) {\n    return d.y;\n  })]);\n  var x_axis = d3.axisBottom().scale(xScale);\n  var y_axis = d3.axisLeft().scale(yScale);\n  d3.select('#g-bars').append(\"g\").call(y_axis).append(\"text\").attr(\"transform\", \"rotate(-90)\").attr(\"y\", 15).attr(\"dy\", \"-5.1em\").attr(\"text-anchor\", \"end\").attr(\"stroke\", \"black\").text(\"Stock Price\");\n  var xAxisTranslate = 3 * height / 4;\n  d3.select('#g-bars').append(\"g\").attr(\"transform\", \"translate(0, \" + xAxisTranslate + \")\").call(x_axis).append(\"text\").attr(\"y\", 30).attr(\"x\", 3 * width / 4).attr(\"stroke\", \"black\").text(\"Year\");\n  d3.select('#g-bars').selectAll(\".bar\").attr(\"transform\", \"translate(0, \" + xAxisTranslate + \")\").data(data).enter().append(\"rect\").attr(\"class\", \"bar\").attr(\"x\", function (d) {\n    return xScale(d.x);\n  }).attr(\"y\", function (d) {\n    return yScale(d.y);\n  }).attr(\"width\", xScale.bandwidth()).attr(\"height\", function (d) {\n    return xAxisTranslate - yScale(d.y);\n  }).attr(\"fill\", styleDefs.primaryColor).on(\"mouseover\", handleMouseOver).on(\"mouseout\", handleMouseOut).transition().ease(d3.easeLinear).duration(400).delay(function (d, i) {\n    return i * 50;\n  });\n};\n\nfunction handleMouseOver(d, i) {\n  d3.select(this).attr('class', 'highlight');\n  d3.select(this).transition().duration(400).attr('width', xScale.bandwidth() + 5).attr(\"y\", function (d) {\n    return yScale(d.y) - 5;\n  }).attr(\"x\", function (d) {\n    return xScale(d.x) - 2.5;\n  }).attr(\"height\", function (d) {\n    return 3 * height / 4 + 5 - yScale(d.y);\n  });\n  d3.select('#g-bars').append(\"text\").attr('class', 'val').attr(\"x\", function () {\n    return xScale(d.x);\n  }).attr(\"y\", function () {\n    return yScale(d.y) - 15;\n  }).text(function () {\n    return ['$' + d.y]; // Value of the text\n  });\n}\n\nfunction handleMouseOut(d, i) {\n  d3.select(this).attr('class', 'bar');\n  d3.select(this).transition().duration(400).attr('width', xScale.bandwidth()).attr(\"y\", function (d) {\n    return yScale(d.y);\n  }).attr(\"x\", function (d) {\n    return xScale(d.x);\n  }).attr(\"height\", function (d) {\n    return 3 * height / 4 - yScale(d.y);\n  });\n  d3.selectAll('.val').remove();\n}\n\nexport default DrawGrapho;","map":{"version":3,"sources":["/home/fabian/Documents/d3Js/networks/network-react/chart-d3js-react/src/drawGrapho.js"],"names":["React","useEffect","d3","select","scaleLinear","extent","styleDefs","require","RandomData","data","Array","map","e","i","x","y","Math","random","temparature","width","height","DrawGrapho","props","remove","draw","xScale","scaleBand","range","padding","yScale","margin","append","attr","g","domain","d","max","x_axis","axisBottom","scale","y_axis","axisLeft","call","text","xAxisTranslate","selectAll","enter","bandwidth","primaryColor","on","handleMouseOver","handleMouseOut","transition","ease","easeLinear","duration","delay"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport * as d3 from 'd3';\nimport { select, scaleLinear, extent } from \"d3\";\n\nconst styleDefs = require(\"./bar.scss\");\n\n\nfunction RandomData() {\n  const data = [...Array(10)].map((e, i) => {\n    return {\n      x: i,\n      y: Math.random() * 40,\n      temparature: Math.random() * 500\n    };\n  });\n  return data;\n}\n\nconst width = 600 //Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\nconst height = 500 //Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n\nconst DrawGrapho = (props) => {\n  useEffect(() => {\n   d3.select('.drawGrapho > *').remove();\n   draw(props)\n },[])\n  return <div className=\"drawGrapho\" />\n}\n\nvar xScale = d3.scaleBand().range([0, 3*width/4]).padding(0.1),\n    yScale = d3.scaleLinear().range([3*height/4, 0]);\n\nconst draw = (props) => {\n\n    const data = RandomData()\n\n    const margin = 50\n\n    d3.select('.drawGrapho').append('svg')\n     .attr(\"width\", width - margin)\n     .attr(\"height\", height - margin)\n     .attr('id', 'svg-bars')\n\n    var g = d3.select('#svg-bars').append(\"g\")\n      .attr(\"transform\", \"translate(\" + 50 + \",\" +30 + \")\")\n      .attr('id', 'g-bars');\n\n    xScale.domain(data.map(function(d) { return d.x; }))\n    yScale.domain([0, d3.max(data, function(d) { return d.y; })])\n\n    var x_axis = d3.axisBottom()\n          .scale(xScale);\n\n    var y_axis = d3.axisLeft()\n          .scale(yScale);\n\n    d3.select('#g-bars').append(\"g\")\n       .call(y_axis)\n       .append(\"text\")\n       .attr(\"transform\", \"rotate(-90)\")\n       .attr(\"y\",15)\n       .attr(\"dy\", \"-5.1em\")\n       .attr(\"text-anchor\", \"end\")\n       .attr(\"stroke\", \"black\")\n       .text(\"Stock Price\");\n\n\n    var xAxisTranslate = 3*height/4 ;\n\n    d3.select('#g-bars').append(\"g\")\n        .attr(\"transform\", \"translate(0, \" +  xAxisTranslate +\")\")\n        .call(x_axis)\n        .append(\"text\")\n        .attr(\"y\",30)\n        .attr(\"x\",3*width/4)\n        .attr(\"stroke\", \"black\")\n        .text(\"Year\");\n\n    d3.select('#g-bars').selectAll(\".bar\")\n        .attr(\"transform\", \"translate(0, \" + xAxisTranslate  +\")\")\n        .data(data)\n        .enter().append(\"rect\")\n        .attr(\"class\", \"bar\")\n        .attr(\"x\", function(d) { return xScale(d.x); })\n        .attr(\"y\", function(d) { return yScale(d.y); })\n        .attr(\"width\", xScale.bandwidth())\n        .attr(\"height\",function(d) { return xAxisTranslate  - yScale(d.y); })\n        .attr(\"fill\", styleDefs.primaryColor)\n        .on(\"mouseover\", handleMouseOver)\n        .on(\"mouseout\", handleMouseOut)\n        .transition()\n         .ease(d3.easeLinear)\n         .duration(400)\n         .delay(function (d, i) {\n             return i * 50;\n         })\n  }\n\n  function handleMouseOver(d, i) {\n    d3.select(this).attr('class', 'highlight');\n    d3.select(this). transition()\n      .duration(400)\n      .attr('width', xScale.bandwidth() + 5)\n      .attr(\"y\", function(d) { return yScale(d.y)-5; })\n      .attr(\"x\", function(d) { return xScale(d.x)-2.5; })\n      .attr(\"height\", function(d) { return 3*height/4 + 5 - yScale(d.y); });\n\n\n    d3.select('#g-bars').append(\"text\")\n      .attr('class', 'val')\n      .attr(\"x\", function() { return  xScale(d.x);})\n      .attr(\"y\", function() { return yScale(d.y) -15 ; })\n      .text(function() {\n        return [ '$' +d.y];  // Value of the text\n    });\n  }\n\n  function handleMouseOut(d, i) {\n    d3.select(this).attr('class', 'bar');\n    d3.select(this).transition()\n      .duration(400)\n      .attr('width', xScale.bandwidth())\n      .attr(\"y\", function(d) { return yScale(d.y); })\n      .attr(\"x\", function(d) { return xScale(d.x); })\n      .attr(\"height\", function(d) { return 3*height/4 - yScale(d.y); });\n\n    d3.selectAll('.val')\n        .remove()\n  }\nexport default DrawGrapho\n"]},"metadata":{},"sourceType":"module"}