{"ast":null,"code":"var _jsxFileName = \"/home/fabian/Documents/d3Js/networks/network-react/chart-d3js-react/src/drawGrapho2.js\";\nimport React, { useEffect } from 'react';\nimport * as d3 from 'd3';\nimport { layout, select, scaleLinear, extent } from \"d3\";\n\nconst styleDefs = require(\"./bar.scss\");\n\nconst width = 600; //Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n\nconst height = 500; //Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n\nconst DrawGrapho2 = props => {\n  useEffect(() => {\n    d3.select('.drawGrapho2 > *').remove();\n    draw(props);\n  }, [props]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"drawGrapho2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 10\n    }\n  });\n};\n\nconst draw = props => {\n  var canvas = d3.select(\".drawGrapho2\").querySelector(\"canvas\"),\n      context = canvas.getContext(\"2d\"),\n      width = canvas.width,\n      height = canvas.height;\n  var simulation = d3.forceSimulation().force(\"link\", d3.forceLink().id(function (d) {\n    return d.id;\n  })).force(\"charge\", d3.forceManyBody()).force(\"center\", d3.forceCenter());\n  d3.json(\"miserables.json\", function (error, graph) {\n    if (error) throw error;\n    simulation.nodes(graph.nodes).on(\"tick\", ticked);\n    simulation.force(\"link\").links(graph.links);\n\n    function ticked() {\n      context.clearRect(0, 0, width, height);\n      context.save();\n      context.translate(width / 2, height / 2 + 40);\n      context.beginPath();\n      graph.links.forEach(drawLink);\n      context.strokeStyle = \"#aaa\";\n      context.stroke();\n      context.beginPath();\n      graph.nodes.forEach(drawNode);\n      context.fill();\n      context.strokeStyle = \"#fff\";\n      context.stroke();\n      context.restore();\n    }\n  });\n\n  function drawLink(d) {\n    context.moveTo(d.source.x, d.source.y);\n    context.lineTo(d.target.x, d.target.y);\n  }\n\n  function drawNode(d) {\n    context.moveTo(d.x + 3, d.y);\n    context.arc(d.x, d.y, 3, 0, 2 * Math.PI);\n  }\n};\n\nexport default DrawGrapho2;","map":{"version":3,"sources":["/home/fabian/Documents/d3Js/networks/network-react/chart-d3js-react/src/drawGrapho2.js"],"names":["React","useEffect","d3","layout","select","scaleLinear","extent","styleDefs","require","width","height","DrawGrapho2","props","remove","draw","canvas","querySelector","context","getContext","simulation","forceSimulation","force","forceLink","id","d","forceManyBody","forceCenter","json","error","graph","nodes","on","ticked","links","clearRect","save","translate","beginPath","forEach","drawLink","strokeStyle","stroke","drawNode","fill","restore","moveTo","source","x","y","lineTo","target","arc","Math","PI"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport * as d3 from 'd3';\nimport { layout, select, scaleLinear, extent } from \"d3\";\n\nconst styleDefs = require(\"./bar.scss\");\n\nconst width = 600 //Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\nconst height = 500 //Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n\nconst DrawGrapho2 = (props) => {\n  useEffect(() => {\n   d3.select('.drawGrapho2 > *').remove();\n   draw(props)\n },[props])\n  return <div className=\"drawGrapho2\" />\n}\n\n\nconst draw = (props) => {\n\n\n      var canvas = d3.select(\".drawGrapho2\").querySelector(\"canvas\"),\n          context = canvas.getContext(\"2d\"),\n          width = canvas.width,\n          height = canvas.height;\n\n      var simulation = d3.forceSimulation()\n          .force(\"link\", d3.forceLink().id(function(d) { return d.id; }))\n          .force(\"charge\", d3.forceManyBody())\n          .force(\"center\", d3.forceCenter());\n\n      d3.json(\"miserables.json\", function(error, graph) {\n        if (error) throw error;\n\n        simulation\n            .nodes(graph.nodes)\n            .on(\"tick\", ticked);\n\n        simulation.force(\"link\")\n            .links(graph.links);\n\n        function ticked() {\n          context.clearRect(0, 0, width, height);\n          context.save();\n          context.translate(width / 2, height / 2 + 40);\n\n          context.beginPath();\n          graph.links.forEach(drawLink);\n          context.strokeStyle = \"#aaa\";\n          context.stroke();\n\n          context.beginPath();\n          graph.nodes.forEach(drawNode);\n          context.fill();\n          context.strokeStyle = \"#fff\";\n          context.stroke();\n\n          context.restore();\n        }\n      });\n\n      function drawLink(d) {\n        context.moveTo(d.source.x, d.source.y);\n        context.lineTo(d.target.x, d.target.y);\n      }\n\n      function drawNode(d) {\n        context.moveTo(d.x + 3, d.y);\n        context.arc(d.x, d.y, 3, 0, 2 * Math.PI);\n      }\n}\nexport default DrawGrapho2\n"]},"metadata":{},"sourceType":"module"}